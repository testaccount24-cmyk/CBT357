/**  REXX -- EMPTY FILE OR PDS (UNDER ISPF OPTION 3.4)  **/
   SAVEMSG = MSG("OFF")
   PARSE ARG ZINPDSN
   IF SUBSTR(ZINPDSN,1,1) = '?' THEN SIGNAL DISPDOC
   LDSI = LISTDSI(ZINPDSN DIRECTORY)
   IF SYSDSORG = "PS"
      THEN DO
         "ALLOC DD(ZAPFILE)  DSN("ZINPDSN") SHR REUSE"
         "EXECIO 0 DISKW" ZAPFILE "(OPEN"
         "EXECIO 0 DISKW" ZAPFILE "(FINIS"
         FINPDSN = LEFT(SUBSTR(ZINPDSN,2,LENGTH(ZINPDSN)-2),44)
         SAY FINPDSN "EMPTIED..."
      END
   ELSE IF SYSDSORG = "PO" THEN DO
      ZNEWDSN = "'"USERID()".$$$TEMP.NEWDSN.S"TIME('S')"'"
      "ALLOC DSN("ZNEWDSN") NEW LIKE("ZINPDSN")"
      "DELETE" ZINPDSN
      "RENAME" ZNEWDSN ZINPDSN
      FINPDSN = LEFT(SUBSTR(ZINPDSN,2,LENGTH(ZINPDSN)-2),44)
      SAY FINPDSN "EMPTIED..."
   END
   ELSE DO
      SAY FINPDSN "CAN'T HANDLE DATA SET ORG" SYSDSORG
   END
   EXIT(1)

DISPDOC:
   ADDRESS TSO "CLEAR"
   SAY "EMPTY -- DELETE ALL DATA OR MEMBERS FROM DS LIST FILE     "
   SAY
   SAY " FORMAT "
   SAY
   SAY "    EMPTY                                                 "
   SAY
   SAY "       DELETE ALL DATA FROM SEQUENTIAL FILE SPECIFIED IN  "
   SAY "       ISPF DS LIST (SIMPLY OPENS AND CLOSES THE FILE).   "
   SAY
   SAY "       CREATES A TEMPORARY PDS WITH SAME ATTRIBUTES AS    "
   SAY "       SPECIFIED PDS (OBVIOUSLY WITH NO MEMBERS), DELETES "
   SAY "       ORIGINAL PDS AND RENAMES TEMPORARY PDS TO OLD NAME."
   SAY
   SAY "       CAUSES DS LIST SCREEN TO BE REFRESHED.             "
   SAY
   EXIT(1)

